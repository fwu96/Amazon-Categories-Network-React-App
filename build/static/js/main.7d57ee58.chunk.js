(this["webpackJsonpcategory-network"]=this["webpackJsonpcategory-network"]||[]).push([[0],{71:function(e,t,n){e.exports=n(81)},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(44),c=n.n(a),i=(n(76),n(45)),l=n(46),u=n(48),s=n(47),f=n(49),d=n(0),h=n(4),v=n.n(h),g=(n(77),n(78),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=1500,t=800;function n(r,a,c,i){var l=d.g(r).force("link",d.e(a).id((function(e){return e.id}))).force("link",d.e(a).distance((function(e){return 1.5*e.value}))).force("charge",d.f()).force("center",d.d(e/2,t/2)),u=d.j("svg").attr("viewBox",[0,0,e,t]),s=u.append("g").classed("links",!0).attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(a).join("line").attr("stroke-width",1.5),f=u.append("g").classed("nodes",!0).attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(r).join("circle").attr("r",(function(e){return 1.5*Math.sqrt(e.group)})).attr("fill","#2E86C1").on("click",(function(){var e=this;v()(".infoBox").remove(),d.j(this).classed("clicked",!d.j(this).classed("clicked"));var t=c.filter((function(t){return t.name===d.j(e).select("title").text()}));!function(e,t){e?v()("#root").append("<div class='infoBox'><h2>Category Information</h2><text>Category Name: "+t.name+"</text><text>Category id: "+t.id+"</text><text>Number of Products: "+t.productCount+"</text><text>Number of Subtrees: "+t.numChildren+"</text><text>Number of Products in Subtree: "+t.subtreeProductCount+"</text></div>"):v()(".infoBox").remove()}(d.j(this).classed("clicked"),t[0]);var r=i.filter((function(e){return e.parent===t[0].id||e.name===t[0].name}));console.log(r);var a=o(r,t[0].name);console.log(a);var l=a.node.map((function(e){return Object.create(e)})),u=a.link.map((function(e){return Object.create(e)}));v()(".links").remove(),v()(".nodes").remove(),console.log("removed, ready to draw"),n(l,u,r,i)})).call(function(e){return d.b().on("start",(function(t){d.c.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=d.c.x,e.fy=d.c.y})).on("end",(function(t){d.c.active||e.alphaTarget(0),t.fx=null,t.fy=null}))}(l));f.append("title").text((function(e){return e.id})),l.on("tick",(function(){s.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),f.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}))}function o(e,t){var n={node:[],link:[]};return e.forEach((function(e){n.node.push({id:e.name,group:+e.numChildren}),e.name!==t&&n.link.push({source:t,target:e.name,value:+e.numChildren})})),n}return d.a("./all-nodes.csv").then((function(e){console.log(e);var t=e.filter((function(e){return 0===+e.parent}));console.log(t);var r=o(t,"root");console.log(r);var a=r.link.map((function(e){return Object.create(e)}));n(r.node.map((function(e){return Object.create(e)})),a,t,e)})),r.a.createElement("svg",{className:"Net",width:e,height:t})}}]),t}(o.Component)),m=(n(79),n(80),function(){return r.a.createElement("div",{className:"Vis"},r.a.createElement("div",{className:"headline"},r.a.createElement("h1",null,"Network of Amazon Products Categories")),r.a.createElement("div",{className:"filters"},r.a.createElement("h4",null,"Make a Selection of Category: "),r.a.createElement("select",null,r.a.createElement("option",{value:"default"},"-----------default------------"))),r.a.createElement(g,null))}),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(m,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Amazon-Categories-Network-React-App",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Amazon-Categories-Network-React-App","/service-worker.js");p?(!function(e,t){fetch(e).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):k(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):k(t,e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.7d57ee58.chunk.js.map